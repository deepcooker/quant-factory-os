# 最新决策

日期：2026-02-27
RUN_ID: `run-2026-02-27-sync-learning-exam-cli-web`

## 决策 1：SYNC 文件名保持英文稳定
- 结论：`SYNC` 文件名恢复并保持为原英文路径（`README.md`、`READ_ORDER.md` 等）。
- 原因：避免路径变更带来的额外认知成本和引用漂移。
- 影响：仓库内部与脚本引用继续稳定，不依赖中文路径编码。

## 决策 2：中文化放在内容层
- 结论：中文化只放在文档内容，不放在文件名层。
- 原因：同时满足“可读性”与“工具链稳定性”。
- 影响：同频体验保持中文，但入口路径保持兼容。

## 决策 3：PROJECT_GUIDE 正式归属不变
- 结论：继续以 `docs/PROJECT_GUIDE.md` 为正式版。
- 原因：治理/战略文档应归于 docs canonical 层。
- 影响：`chatlogs/PROJECT_GUIDE.md` 保留为兼容跳转说明。

## 决策 4：战略内容不动
- 结论：财富/量化战略内容不改，仅动治理与同频层。
- 原因：本轮目标是入口可用性与同频效率，不是业务路线重写。
- 影响：项目方向稳定，操作体验更清晰。

## 决策 5：同频状态机单一化
- 结论：统一状态机为 `Environment -> Handoff -> Ready -> Execute -> Ship -> Learn`。
- 原因：减少 `init/handoff/ready` 语义混淆，提升上手一致性。
- 影响：同频流程可验证、可审计、可复盘。

## 决策 6：文档更新升级为硬门禁
- 结论：流程/规则/工具行为变化必须在同一 RUN 同步更新 owner 文档与 evidence。
- 原因：若文档滞后，自动化会持续放大偏差。
- 影响：统一执行真相源，降低后续协作摩擦和返工率。

## 决策 7：init 默认自动 handoff（接力会话）
- 结论：`tools/qf init` 在存在 `CURRENT_RUN_ID` 时默认自动执行 handoff。
- 原因：减少重复命令，降低接班摩擦。
- 影响：接力场景可更快进入 ready 门禁；仍可通过 `QF_INIT_AUTO_HANDOFF=0` 关闭。

## 决策 8：ready 默认自动填充任务复述
- 结论：`tools/qf ready` 默认从当前任务合同自动填充 goal/scope/acceptance 等字段。
- 原因：保留门禁同时减少手工输入负担。
- 影响：同频更顺滑；仍可通过 `QF_READY_AUTO=0` 强制手填。

## 决策 9：handoff 增加推荐下一命令
- 结论：`tools/qf handoff` 输出中新增 `Recommended Next Command`。
- 原因：降低“下一步该干什么”的认知成本。
- 影响：新会话和断线接力都更快进入执行状态。

## 决策 10：思想同频改为“模板 + 机器评分”门禁
- 结论：新增同频考试体系（`SYNC/EXAM_*` + `tools/sync_exam.py`），统一 CLI 与网页 GPT 的同频训练与判定。
- 原因：思想层对齐是核心难点，必须可审计、可复测，不能只靠口头判断。
- 影响：新/陌生 agent 可通过结构化学习完成上岗；未通过评分不进入执行阶段。
